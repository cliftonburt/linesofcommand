<!DOCTYPE html>
<html lang="en">
<head>
    <!--
        File: loc.html
        Purpose: Location Display and Interaction
        Description: This file provides a web interface for the player to interact with the ship's current location, 
        navigate the map, and receive location-based events in "Lines of Command".
        Notes:
        - Currently part of the HTML5 faux-terminal version of "Lines of Command."
        - Future expansions may involve integration with Slack, Discord, or similar platforms.
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lines of Command: HMS Resolute</title>
    <!-- Link to external stylesheet for terminal color overrides -->
    <link rel="stylesheet" href="styles/cros-color-overrides.css?v=1.1">
</head>
<body>
    <div id="terminal">
        <p>Welcome to Lines of Command: HMS Resolute</p>
        <p>Type your command below:</p>
        <input type="text" id="command-input" autofocus>
        <div id="output"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const inputField = document.getElementById('command-input');
            const outputDiv = document.getElementById('output');

            inputField.addEventListener('keydown', function(event) {
                if (event.key === 'Enter') {
                    event.preventDefault();
                    const command = inputField.value.trim();
                    if (command) {
                        processCommand(command);
                        inputField.value = '';
                    }
                }
            });

            function processCommand(command) {
                const response = handleCommand(command);
                const commandElement = document.createElement('p');
                commandElement.textContent = `> ${command}`;
                const responseElement = document.createElement('p');
                responseElement.textContent = response;
                outputDiv.appendChild(commandElement);
                outputDiv.appendChild(responseElement);
                outputDiv.scrollTop = outputDiv.scrollHeight;
            }

            function handleCommand(command) {
                // Add your command handling logic here
                switch (command.toLowerCase()) {
                    case 'hoist sails':
                        return 'The crew scrambles to hoist the sails!';
                    case 'fire cannons':
                        return 'Firing cannons at nearby enemy ships!';
                    case 'check provisions':
                        return 'Current provisions and supplies: ...';
                    case 'dashboard':
                        return 'Showing the system dashboard...';
                    case 'exit':
                        return 'Ending the game...';
                    default:
                        return `Invalid command: '${command}'. Type 'help' for a list of commands.`;
                }
            }
        });
    </script>
</body>
</html>
